<html>

<head>
    <script src="/scripts/components/sankey.js" defer></script>
    <script src="/scripts/components/table.component.js"></script>
    <script src="/scripts/components/table_navigation.component.js"></script>
    <script src="/scripts/components/filters.component.js"></script>
    <script src="/scripts/utils/fetchSankey.js"></script>
    <script src="/scripts/vendor/d3.js"></script>
    <script src="/scripts/vendor/d3array.js"></script>
    <script src="/scripts/vendor/d3collection.js"></script>
    <script src="/scripts/vendor/d3path.js"></script>
    <script src="/scripts/vendor/d3shape.js"></script>
    <script src="/scripts/vendor/d3sankey.js"></script>
    <link rel="stylesheet" href="/stylesheets/browse.css">

    <style>
        svg {
            max-width: 95vw;
            max-height: calc(98vh - 3em);
        }

        path {
            clip-path: stroke-box;
        }

        #table-container.hidden {
            display: none;
        }

        h1 {
            max-width: 80rem;
            margin: auto;
            cursor: pointer;
        }

        a {
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div>
        <h1>Database</h1>
        <div id="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Reference Product</th>
                        <th>Geography</th>
                        <th>CPC Code</th>
                        <th>CPC Name</th>
                        <th>Layers</th>
                        <th></th>
                    </tr>
                    <tr>
                        <th><input type="text" placeholder="Enter activity" id="activity" /></th>
                        <th><input type="text" placeholder="Enter reference product" id="product" /></th>
                        <th><input type="text" list="geography-datalist" placeholder="Enter geography" id="geography" />
                        </th>
                        <th><input type="text" list="cpc-code-datalist" placeholder="Enter CPC code" id="cpc-code" />
                        </th>
                        <th><input type="text" list="cpc-name-datalist" placeholder="Enter CPC name" id="cpc-name" />
                        </th>
                        <th><input type="number" placeholder="Enter layer count" id="layers" /></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="graphs-table"></tbody>
            </table>
            <div id="pagination-container">
                <div id="page-size-control">
                    <p>Items per page:</p>
                    <select id="pagination-page-size">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                    </select>
                </div>
                <div id="pagination-total-item-count"></div>
                <div id="pagination-controls"></div>
            </div>
        </div>
    </div>
    <div id="graph-container"></div>

    {% include 'cpc_code_datalist.html' %}

    {% include 'cpc_name_datalist.html' %}

    {% include 'geography_datalist.html' %}
</body>

</html>